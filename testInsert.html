<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="root">
    <div id="span1">哈哈</div>
    <div id="span2">啦啦</div>
    <div id="span3">你好</div>
</div>
<script>
    // let span1 = document.getElementById("span1");
    // let father = span1.parentElement;
    // let span3 = document.getElementById("span3");
    // setTimeout(()=>{
    //     father.insertBefore(span1,span3.nextSibling);
    // },5000);

    const { port1, port2 } = new MessageChannel();
port1.onmessage = function (event) {
   
  console.log('收到来自port2的消息：', event.data); // 收到来自port2的消息： pong
};
port2.onmessage = function (event) {
    let channelRun = function(){
        console.log('channelRun');
    };
    channelRun();
  console.log('收到来自port1的消息：', event.data); // 收到来自port1的消息： ping
  port2.postMessage('pong');
};
setTimeout(()=>{
    console.log('setTimeout');
},0);
port1.postMessage('ping');
console.log('haha');
Promise.resolve().then((res)=>{
    console.log('promise');
});

</script>
</body>
</html>
